{
  "name": "bytesrw",
  "git_commit": "ca087e398f28a83d5ac0c1f41bf194412dcbd5ba",
  "change_type": "mixed",
  "summary": "Port from ocamlbuild/topkg to dune build system with OxCaml optimizations using local parameters, mutable locals, unboxed types, and zero_alloc annotations",
  "details": "## Build System Migration (dune-port)\n- Removed ocamlbuild files: `_tags`, `myocamlbuild.ml`, `pkg/pkg.ml`, `pkg/META`, `opam`\n- Removed `.mllib` and `.clib` files for all sub-libraries\n- Added `dune-project` and `dune` files throughout\n- Added `config/discover.ml` for each C library binding (blake3, crypto, md, tls, xxhash, zlib, zstd) using dune-configurator for pkg-config detection\n- Added `doc/dune` for documentation\n\n## OxCaml Optimizations (oxcaml)\n- **Base.Bytes integration**: Added `module Local_bytes = Base.Bytes` for local-aware byte operations\n- **Local parameters**: Functions like `is_eod`, `first`, `last`, `length`, `copy`, `compare`, `equal`, `to_bytes`, `to_string`, `to_bigbytes`, `add_to_buffer`, `output_to_out_channel`, `pp_meta` now accept `(s @ local)` parameters\n- **Mutable locals**: Replaced `ref` cells with `let mutable` for loop variables throughout (e.g., `let mutable i = 0` instead of `let i = ref 0`)\n- **Zero-alloc annotations**: Added `[@zero_alloc]` and `[@inline]` attributes to hot-path functions\n- **Unboxed char patterns**: Added `uchar_utf_8_byte_decode_length_unboxed` using `char#` unboxed type with patterns like `#'\\x00'`\n- **Slice.make_local**: New function with `exclave_` for stack allocation\n- **Optimized compare**: Rewrote `Slice.compare` using mutable locals instead of refs\n\n## Code Improvements\n- Rewrote recursive functions as while loops with mutable state (skip, add_to_buffer, write_bytes, output_to_out_channel, etc.)\n- Optimized `of_binary_string` with lookup table and direct byte manipulation\n- Simplified `hex_value` functions with inline annotations\n- Improved `ilog2` using mutable locals\n\n## Interface Changes (bytesrw.mli)\n- Added `[@@zero_alloc]` attributes to accessor functions\n- Changed parameter modes to `@ local` for slice accessors and converters"
}